<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Guide Galina</title>
        <link href="all.css" rel="stylesheet">
        <style>
            body {
                padding: 0;
                margin: 0;
                width: 2087px;
                background:none;
            }
            div {
                position: relative;
            }
            article {
                position: absolute;
                background: white;
                border: 3px solid black;
            }
            span {
                background: #0AF500;
                display: block;
                width: 50px;
                height: 50px;
                border-radius: 25px;
                position: absolute;
            }
            figure {
                padding: 0;
                margin: 0;
            }
            header section, footer section {
                width: auto;
                margin: 0;
                padding-left: 150px;
               
            }
            footer{    
                width: auto;
                text-align: left;
                box-shadow:none;
            }
/*навигация, изменения для стартовой странички*/
header nav {   
    margin-top: 53px;	
	position:fixed;	
	top:21px; right:150px;
	z-index:10;
}
header nav>ul>li>ul {
	background-color:rgba(207, 238, 247,0.9);
	float:right;	
	margin-top:21px;
	padding:10px;
}
/*конец стилей для навигации*/

        </style>
</head>
<body>
<header> 
            <section>
                <img src="css/logo-05.png" alt="logo-01">
            <h1>Guide Galina</h1>
<!--навигация сайта-->
	<nav>
		<ul>
		
		<li>
			<a href="#" title="меню"><img src="images/nav-menu.png" alt=""></a>
			<ul>
				<li><a href="pages/zd.html">Зимний дворец</a></li>
				<li><a href="pages/us.html">Усадьба Демидова</a></li>
				<li><a href="pages/strelka.html">Стрелка Васильевского острова</a></li>
				<li><a href="pages/mihsad.html">Михайловский сад</a></li>
				<li><a href="pages/mar.html">Мариинский Дворец</a></li>
				<li><a href="pages/let.html">Летний сад</a></li>
				<li><a href="pages/gosd.html">Гостиный двор</a></li>
				<li><a href="pages/domp.html">Дом Пиковой Дамы</a></li>
				<li><a href="pages/dom.html">Дом из русской сказки</a></li>			
			</ul>
		</li>
		</ul>                
	</nav>
        </section>
</header>

<div>
    <img src="images/original-1.jpg" alt="" usemap="#Navigation" width="2087" height="1470">
      <map name="Navigation">
          <area shape="poly" coords="578,667,609,707,717,624,689,585" href="#" alt="Информация" id="1" data-left="690px" data-bottom="885px">
          <area shape="poly" coords="887,962,919,982,1025,893,942,873" href="#" alt="Информация" id="2" data-left="1025px" data-bottom="582px">
          <area shape="poly" coords="977,424,1038,597,1060,605,1085,595,1051,393" href="#" alt="Информация" id="3" data-left="1051px" data-bottom="1083px">
          <area shape="poly" coords="1033,644,1053,702,1052,754,990,735,911,705,921,622" href="#" alt="Информация" id="4" data-left="1033px" data-bottom="826px">
          <area shape="poly" coords="487,536,504,606,507,558,517,530,500,506,437,488" href="#" alt="Информация" id="5" data-left="500px" data-bottom="964px">
          <area shape="poly" coords="594,1077,531,1110,535,1013,562,1000" href="#" alt="Информация" id="6" data-left="562px" data-bottom="470px">
          <area shape="poly" coords="636,1052,601,1071,570,996,602,985" href="#" alt="Информация" id="7" data-left="602px" data-bottom="485px">
          <area shape="poly" coords="675,855,627,889,603,852,646,819" href="#" alt="Информация" id="8" data-left="646px" data-bottom="651px">
          <area shape="poly" coords="1361,1136,1274,1114,1274,1084,1368,1107" href="#" alt="Информация" id="9" data-left="1274px" data-bottom="390px">
      </map>
      <article data-name="1" hidden>
        <h1>Зимний Дворец</h1>
        <a class="Readnext" href="pages/zd.html">Читать далее...</a>
    </article>
      <article data-name="2" hidden>
        <h1>Гостинный двор</h1>
        <a class="Readnext" href="pages/gosd.html">Читать далее...</a>
      </article>
    <article data-name="3" hidden>
        <h1>Летний сад</h1>
        <a class="Readnext" href="pages/let.html">Читать далее...</a>
    </article>
    <article data-name="4" hidden>
        <h1>Михайловский сад</h1>
        <a class="Readnext" href="pages/mihsad.html">Читать далее...</a>
    </article>
    <article data-name="5" hidden>
        <h1>Стрелка Васильевского острова</h1>
        <a class="Readnext" href="pages/strelka.html">Читать далее...</a>
    </article>
    <article data-name="6" hidden>
        <h1>Мариинский дворец</h1>
        <a class="Readnext" href="pages/mar.html">Читать далее...</a>
    </article>
    <article data-name="7" hidden>
        <h1>Усадьба Демидова</h1>
        <a class="Readnext" href="pages/us.html">Читать далее...</a>
    </article>
    <article data-name="8" hidden>
        <h1>Дом пиковой Дамы</h1>
        <a class="Readnext" href="pages/domp.html">Читать далее...</a>
    </article>
    <article data-name="9" hidden>
        <h1>Дом из русской сказки</h1>
        <a class="Readnext" href="pages/dom.html">Читать далее...</a>
    </article>
  </div>
      <script>
          
          let section = document.getElementsByTagName("div")[0];
          let articles = document.getElementsByTagName("article");
          let spans = [];
          let areas = document.getElementsByTagName('area');
          
          //https://learn.javascript.ru/onscroll ИЗУЧИТЬ!!!
          window.onload = function(e){
              /*let windowX = document.documentElement.clientWidth;
              let windowY = document.documentElement.clientheight;
              let figure = document.querySelector("figure");
              figure.style.width = windowX + "px";
              figure.style.height = windowY + "px";
              figure.style.overflow = "auto";*/
              
              
          for (let i = 0; i < areas.length; i++) {
              spans[i] = document.createElement("span");
              spans[i].setAttribute("data-area", areas[i].id);
          };
          
          for (let i = 0; i < areas.length; i++) {
                  section.appendChild(spans[i]);
                  
                  let coord = areas[i].getAttribute("coords");
                  let coordAll = coord.split(",");
                  let coordX = [], coordY = [], xAll = 0, yAll = 0, numX, numY,size;
                  
                  for (let j = 0; j < coordAll.length; j++) {
                      if (j % 2 == 0) {
                          coordX.push(coordAll[j]);
                          xAll = xAll + (+coordAll[j]);
                      } else {
                          coordY.push(coordAll[j]);
                          yAll = yAll + (+coordAll[j]);
                      }
                      
                  }
                  
                  numX=xAll/coordX.length;
                  numY=yAll/coordY.length;
                  //size=(xAll+yAll)/(coordX.length + coordY.length);
                  
                  let syleSpan = getComputedStyle(spans[i]);
                  let width = parseInt(syleSpan.width);
                  let height = parseInt(syleSpan.height);
                  
                  spans[i].style.left = numX - width/2 + "px";
                  spans[i].style.top = numY - height/2 + "px";
              }
          }
          //alert(spans.length);
          section.onclick = function (event) {
              let element = event.target;
              let selector; let areadata;
              if(element.tagName == "SPAN"){selector = "[data-name='" + element.getAttribute("data-area") + "']"; areadata =document.getElementById(element.getAttribute("data-area")); }
              else{selector = "[data-name='" + element.id + "']"; areadata = element;}
              let art = document.querySelector(selector);
              
              if(element.tagName == "ARTICLE" || element.parentNode.tagName == "ARTICLE"){
                  return;
              }
              
              
              for (let i = 0; i < articles.length; i++) {
                  articles[i].hidden = true;
              }
              
              if (element.tagName == "AREA" || element.tagName == "SPAN") {
                  art.hidden = false;
                  art.style.left = areadata.getAttribute("data-left");
                  art.style.bottom = areadata.getAttribute("data-bottom");
              }
              
              
                  
                  //spans[i].style.borderRadius=
                  
                  //spans[i].style.left = areas[i].getAttribute("data-left") - 25 + "px";
                  //spans[i].style.bottom = areas[i].getAttribute("data-bottom") - 25 + "px";
              
          }
      </script>
      

<footer>
        <section>
        <p> ООО "Галина - гид онлайн" ® 2021
        </p>
    </section>
</footer>
</body>
</html>
                    
    
            
